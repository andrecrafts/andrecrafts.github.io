import{r as w}from"./index.Cd_vQiNd.js";var _={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O;function q(){if(O)return E;O=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function c(n,r,i){var d=null;if(i!==void 0&&(d=""+i),r.key!==void 0&&(d=""+r.key),"key"in r){i={};for(var l in r)l!=="key"&&(i[l]=r[l])}else i=r;return r=i.ref,{$$typeof:a,type:n,key:d,ref:r!==void 0?r:null,props:i}}return E.Fragment=o,E.jsx=c,E.jsxs=c,E}var I;function D(){return I||(I=1,_.exports=q()),_.exports}var s=D();function F({className:a,...o}){return s.jsx("svg",{className:a,...o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("g",{transform:"translate(12, 12) scale(0.98) translate(-12, -12)",children:s.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})}function U({className:a,...o}){return s.jsx("svg",{className:a,...o,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}function G({contentEntry:a,className:o,children:c}){const n=a.data,r=a.imageMeta,i=`/${a.collection}/${a.slug}`,d=n.repo,l=n.stars&&n.stars>0?n.stars:null,f=new Date(n.date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}),p=[];let g=0;const h=24;for(const m of n.tags.slice(0,3)){const L=m.length;if(g+=L,g<=h)p.push(m);else break}const y=`bg-secondary border-2 border-secondary-accent 
rounded-xl overflow-hidden flex flex-col h-full 
will-change-transform transition-all transform duration-300 
[@media(hover:hover)]:hover:border-sky-700 [@media(hover:hover)]:hover:text-sky-500 
[@media(hover:hover)]:hover:shadow-[0_0_20px_#3d95f540] [@media(hover:hover)]:hover:-translate-y-2`,W=`absolute top-1.5 right-1.5
flex justify-center items-center p-2 rounded-full
bg-gray-800/60 text-white hover:bg-gray-800/80 
transition-colors duration-200 transform`,C=`w-full aspect-[204/100] rounded-lg 
bg-black flex justify-center items-center`,v="m-4 flex flex-col flex-grow overflow-hidden",T="title-clamp text-lg leading-tight font-bold mb-2",M="description-clamp text-sm text-subtle-gray mb-4 break-all",b="whitespace-nowrap text-xs text-white bg-secondary-accent px-1.7 py-1 rounded-md";return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
    .title-clamp {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3; /* Limit to 3 lines */
      overflow: hidden;
    }

    .description-clamp {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3; /* Limit to 3 lines */
      overflow: hidden;
      overflow-wrap: anywhere;
    }
  `}),s.jsx("div",{className:o,children:s.jsxs("div",{className:y,children:[s.jsxs("div",{className:"relative",children:[s.jsx("a",{href:i,children:s.jsx("div",{className:C,children:s.jsx("img",{src:r.src,width:r.width,height:r.height,alt:n.title,loading:"lazy",decoding:"async",className:"w-auto h-full"})})}),d&&s.jsx("a",{className:W,href:`https://github.com/${d}`,target:"_blank",rel:"noopener noreferrer","aria-label":"View Project on Github",children:s.jsx(F,{className:"w-5 h-5"})})]}),s.jsxs("a",{href:i,className:v,children:[s.jsx("h3",{className:T,title:n.title,children:n.title}),s.jsx("p",{className:M,title:n.description,children:n.description}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("div",{title:n.tags.join(", "),className:"flex gap-2 mb-4",children:p.map(m=>s.jsx("span",{className:b,children:m},m))}),s.jsxs("div",{className:"flex items-center text-sm text-subtle-gray",children:[s.jsx("span",{className:"mr-auto",children:f}),l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:l.toLocaleString()}),s.jsx(U,{className:"w-5 h-5 text-yellow-400 -mt-1 ml-1"})]})]})]})]})]})})]})}function H(a,o,c,n){const r=[],i=o.toLowerCase(),d=n.length>0;for(const l of a)if(!(c==="all"&&l.isSuperseded)&&!(c==="posts"&&l.collection!=="posts")&&!(c==="projects"&&l.collection!=="projects")&&!(d&&!l.data.tags.some(f=>n.includes(f)))){if(i){const x=l.data.title.toLowerCase().includes(i),f=l.data.description.toLowerCase().includes(i);let p=!1;for(const g of l.data.tags)if(g.toLowerCase().includes(i)){p=!0;break}if(!x&&!f&&!p)continue}r.push(l)}return r}function J(a,o,c){switch(c){case"Oldest":return a.data.date.valueOf()-o.data.date.valueOf();case"Stars":const n=a.data.stars||0,r=o.data.stars||0;return r!==n?r-n:o.data.date.valueOf()-a.data.date.valueOf();default:return o.data.date.valueOf()-a.data.date.valueOf()}}function A(a,o){const c=[...a];return c.sort((n,r)=>J(n,r,o)),c}function V({allEntries:a,CardsPerPage:o,currentPageNum:c,initialViewFilter:n}){const[r,i]=w.useState(""),[d,l]=w.useState("Latest"),[x,f]=w.useState(n),[p,g]=w.useState([]),[h,y]=w.useState(isNaN(c)?1:c);function W(t=!1){const e=new URLSearchParams(window.location.search);i(e.get("q")||""),l(e.get("sort")||"Latest");const u=e.get("tags");g(u?u.split(","):[]);const j=window.location.pathname;j.startsWith("/posts")?f("posts"):j.startsWith("/projects")?f("projects"):j.startsWith("/work")&&f("all"),y(t?c:1)}w.useEffect(()=>{const t=()=>W(!1);return window.addEventListener("urlchange",t),window.addEventListener("popstate",t),W(!0),()=>{window.removeEventListener("urlchange",t),window.removeEventListener("popstate",t)}},[]);const C=w.useMemo(()=>{const t=[...a],e=H(t,r,x,p);return A(e,d)},[a,r,x,p,d]),v=[],T=(h-1)*o,M=Math.min(T+o,C.length);for(let t=T;t<M;t++){const e=C[t];v.push(s.jsx(G,{className:"flex-shrink-0 h-95 w-70",contentEntry:e},e.collection+"-"+e.slug))}const b=Math.ceil(C.length/o);function k(t){const e=x==="all"?"work":x;let u=null;typeof window<"u"&&(u=new URLSearchParams(window.location.search).toString());const N=t>=1?`/${e}/${t}`:e,S=`${N}?${u}`;return u?S:N}function R(t,e){t.preventDefault(),e<1&&(e=1),y(e),history.pushState(null,"",k(e))}function $(t,e){const j=typeof window<"u"?window.matchMedia("(max-width: 768px)").matches:!1;return e<=1?e===1?[1]:[]:j?e<=5?Array.from({length:e},(N,S)=>S+1):t<4?[1,2,3,"...",e]:t>e-3?[1,"...",e-2,e-1,e]:[1,"...",t,"...",e]:e<=7?Array.from({length:e},(N,S)=>S+1):t<5?[1,2,3,4,5,"...",e]:t>e-4?[1,"...",e-4,e-3,e-2,e-1,e]:[1,"...",t-1,t,t+1,"...",e]}const m="flex mx-auto justify-center items-center gap-4 w-full";let L="";v.length===3?L="flex-col xl:flex-row":L="max-w-50 flex-wrap md:max-w-150 lg:max-w-200 2xl:max-w-350";const P=`${m} ${L}`;return s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 px-4",children:[s.jsx("div",{className:P,children:v.length>0?v:s.jsx("p",{className:"col-span-full font-bold text-xl p-8",children:"No results found."})}),b>0&&s.jsxs("nav",{className:"pagination-nav mt-8 flex justify-center items-center gap-2 flex-wrap",suppressHydrationWarning:!0,children:[s.jsx("a",{suppressHydrationWarning:!0,href:k(h-1),onClick:t=>R(t,h-1),className:h===1?"pointer-events-none opacity-50 select-none text-2xl":"text-2xl select-none",children:"<"}),$(h,b).map((t,e)=>typeof t=="string"?s.jsx("span",{className:"px-2",children:"..."},`${t}-${e}`):s.jsx("a",{suppressHydrationWarning:!0,href:k(t),onClick:u=>R(u,t),className:t===h?"font-bold bg-sky-600 rounded px-3 py-1 select-none":"bg-secondary-accent rounded px-3 py-1 select-none",children:t},t)),s.jsx("a",{suppressHydrationWarning:!0,href:k(h+1),onClick:t=>R(t,h+1),className:h===b?"pointer-events-none opacity-50 select-none text-2xl":"text-2xl select-none",children:">"})]})]})}export{V as default};
